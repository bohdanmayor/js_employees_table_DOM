{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","tHeadCells","querySelectorAll","tbody","ageCellIndex","salaryCellIndex","adultAge","maxAge","officeOptions","sortByIdAndType","index","currentRows","sortedRows","sort","rowA","rowB","cellA","cells","innerText","cellB","localeCompare","numeric","JSON","stringify","map","row","employeeForm","form","createElement","classList","add","createLabel","createInput","officeSelect","createSelect","saveButton","type","textContent","addEventListener","event","preventDefault","newEmployeeData","elements","newRow","newRowData","forEach","element","tagName","cell","selectedOptions","name","getSalary","value","toLowerCase","append","formDataValidation","reset","innerTextForLabel","inputElement","label","input","required","setAttribute","min","options","select","option","optionHTML","number","parseInt","toLocaleString","isCorrect","notification","style","textAlign","notificationTitle","notificationMessage","newEmployeeName","newEmployeeAge","age","minNameLength","length","minEmployeeAge","maxEmployeeAge","setTimeout","remove","target","parentElement","activeClass","className","children","defaultValue","trim","max","width","focus","includes","key"],"mappings":"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","file":"main.855ec5c7.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst tHeadCells = document.querySelectorAll('table thead th');\nconst tbody = document.querySelector('table tbody');\nconst ageCellIndex = 3;\nconst salaryCellIndex = 4;\nconst adultAge = 18;\nconst maxAge = 90;\n\nconst officeOptions\n  = ['Tokyo', 'Singapore', 'London', 'New York', 'Edinburgh', 'San Francisco'];\n\nemployeeForm();\n\ntHeadCells.forEach((cell, index) => {\n  cell.addEventListener('click', () => {\n    const receivedRows = sortByIdAndType(index);\n\n    receivedRows.forEach(row => tbody.append(row));\n  });\n});\n\nfunction sortByIdAndType(index) {\n  const currentRows = [...tbody.querySelectorAll('tr')];\n  const sortedRows = [...currentRows];\n\n  sortedRows.sort((rowA, rowB) => {\n    const cellA = rowA.cells[index].innerText;\n    const cellB = rowB.cells[index].innerText;\n\n    return cellA.localeCompare(cellB, 'en', { numeric: true });\n  });\n\n  const currentRowsAsString\n    = JSON.stringify(currentRows.map(row => row.innerText));\n  const sortedRowsAsString\n    = JSON.stringify(sortedRows.map(row => row.innerText));\n\n  if (currentRowsAsString === sortedRowsAsString) {\n    sortedRows.sort((rowA, rowB) => {\n      const cellA = rowA.cells[index].innerText;\n      const cellB = rowB.cells[index].innerText;\n\n      return cellB.localeCompare(cellA, 'en', { numeric: true });\n    });\n  }\n\n  return sortedRows;\n}\n\n// eslint-disable-next-line no-shadow\ntbody.addEventListener('click', (event) => {\n  if (event.target.parentElement.tagName !== 'TR') {\n    return;\n  }\n\n  const activeClasses = tbody.querySelectorAll('.active');\n\n  activeClasses.forEach((activeClass) => {\n    activeClass.classList.remove('active');\n  });\n\n  event.target.parentElement.className = 'active';\n});\n\n// eslint-disable-next-line no-shadow\ntbody.addEventListener('dblclick', (event) => {\n  if (event.target.tagName !== 'TD') {\n    return;\n  }\n\n  const row = [...document.querySelector('.active').children];\n\n  const defaultValue = event.target.textContent.trim();\n\n  let inputElement = document.createElement('input');\n\n  if (row[2].textContent === event.target.textContent) {\n    inputElement = createSelect('office', officeOptions);\n  } else if (row[ageCellIndex].textContent === event.target.textContent) {\n    inputElement.type = 'number';\n    inputElement.min = '18';\n    inputElement.max = '90';\n    inputElement.style.width = ((defaultValue.length * 10) + 20) + 'px';\n  } else {\n    inputElement.type = 'text';\n  }\n\n  inputElement.classList.add('cell-input');\n  inputElement.value = defaultValue;\n  event.target.textContent = '';\n  event.target.append(inputElement);\n  inputElement.focus();\n\n  inputElement.addEventListener('blur', () => {\n    if (row[ageCellIndex].textContent === event.target.textContent) {\n      if (inputElement.value < adultAge || inputElement.value > maxAge) {\n        inputElement.value = '';\n      }\n    } else if (row[salaryCellIndex].textContent === event.target.textContent) {\n      if (!inputElement.value.includes('$')\n        || !inputElement.value.includes(',')\n        || inputElement.value.length < 6\n        || inputElement.value.length > 8) {\n        inputElement.value = '';\n      }\n    }\n\n    inputElement.parentElement.textContent\n      = inputElement.value.trim() === '' ? defaultValue : inputElement.value;\n  });\n\n  // eslint-disable-next-line no-shadow\n  inputElement.addEventListener('keypress', (event) => {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n\n      if (row[ageCellIndex].textContent === event.target.textContent) {\n        if (inputElement.value < adultAge || inputElement.value > maxAge) {\n          inputElement.value = '';\n        }\n      } else if (row[salaryCellIndex].textContent\n        === event.target.textContent) {\n        if (!inputElement.value.includes('$')\n          || !inputElement.value.includes(',')\n          || inputElement.value.length < 6\n          || inputElement.value.length > 8) {\n          inputElement.value = '';\n        }\n      }\n\n      inputElement.parentElement.textContent\n        = inputElement.value.trim() === '' ? defaultValue : inputElement.value;\n    }\n  });\n});\n\nfunction employeeForm() {\n  const form = document.createElement('form');\n\n  form.classList.add('new-employee-form');\n\n  const nameInput = createInput('name');\n\n  createLabel('Name:', nameInput, form);\n\n  const positionInput = createInput('position');\n\n  createLabel('Position:', positionInput, form);\n\n  const officeSelect = createSelect('office', officeOptions);\n\n  createLabel('Office:', officeSelect, form);\n\n  const ageInput = createInput('age', 'number');\n\n  createLabel('Age:', ageInput, form);\n\n  const salaryInput = createInput('salary', 'number');\n\n  createLabel('Salary:', salaryInput, form);\n\n  const saveButton = document.createElement('button');\n\n  saveButton.type = 'submit';\n  saveButton.textContent = 'Save to table';\n\n  // eslint-disable-next-line no-shadow\n  form.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const newEmployeeData = [...form.elements];\n    const newRow = document.createElement('tr');\n    let index = 0;\n    const newRowData = {};\n\n    newEmployeeData.forEach((element) => {\n      if (element.tagName === 'BUTTON') {\n        return;\n      }\n\n      const cell = document.createElement('td');\n\n      if (element.tagName === 'SELECT') {\n        cell.textContent = officeSelect.selectedOptions[0].innerText;\n      }\n\n      cell.textContent = element.name === 'salary'\n        ? getSalary(element.value) : element.value;\n\n      newRowData[tHeadCells[index].innerText.toLowerCase()] = cell.textContent;\n      index++;\n      newRow.append(cell);\n    });\n\n    if (formDataValidation(newRowData)) {\n      tbody.append(newRow);\n      form.reset();\n    }\n  });\n\n  form.append(saveButton);\n  body.append(form);\n}\n\nfunction createLabel(innerTextForLabel, inputElement, form) {\n  const label = document.createElement('label');\n\n  label.textContent = innerTextForLabel;\n  label.append(inputElement);\n\n  form.append(label);\n\n  return label;\n}\n\n// eslint-disable-next-line no-shadow\nfunction createInput(name, type = 'text') {\n  const input = document.createElement('input');\n\n  input.required = true;\n  input.setAttribute('data-qa', name);\n  input.name = name;\n  input.type = type;\n\n  if (type === 'number') {\n    input.min = '0';\n  }\n\n  return input;\n}\n\n// eslint-disable-next-line no-shadow\nfunction createSelect(name, options) {\n  const select = document.createElement('select');\n\n  select.name = name;\n  select.setAttribute('data-qa', name);\n\n  options.forEach((option) => {\n    const optionHTML = document.createElement('option');\n\n    optionHTML.value = option;\n    optionHTML.textContent = option;\n    select.append(optionHTML);\n  });\n\n  return select;\n}\n\nfunction getSalary(number) {\n  return '$'\n    + parseInt(number).toLocaleString('en-US');\n}\n\nfunction formDataValidation(newRowData) {\n  let isCorrect = true;\n\n  const notification = document.createElement('div');\n\n  notification.classList.add('notification');\n  notification.setAttribute('data-qa', 'notification');\n  notification.style.textAlign = 'center';\n\n  const notificationTitle = document.createElement('h2');\n\n  notificationTitle.classList.add('title');\n\n  const notificationMessage = document.createElement('p');\n\n  const newEmployeeName = newRowData.name;\n  const newEmployeeAge = newRowData.age;\n\n  const minNameLength = newEmployeeName.length < 4;\n  const minEmployeeAge = parseInt(newEmployeeAge, 10) < adultAge;\n  const maxEmployeeAge = parseInt(newEmployeeAge, 10) > maxAge;\n\n  if (minNameLength || minEmployeeAge || maxEmployeeAge) {\n    if (minNameLength) {\n      notification.classList.add('error');\n      notificationTitle.textContent = 'Name length error';\n\n      notificationMessage.textContent\n        = 'Your name length should be more than 4 symbols';\n    } else if (minEmployeeAge || maxEmployeeAge) {\n      notification.classList.add('error');\n      notificationTitle.textContent = 'Age error';\n      notificationMessage.textContent = 'Your age can\\'t be less than 18';\n\n      if (maxEmployeeAge) {\n        notification.classList.add('error');\n        notificationMessage.textContent = 'Your age can\\'t be more than 90';\n      }\n    }\n\n    isCorrect = false;\n  } else {\n    notification.classList.add('success');\n    notificationTitle.textContent = 'Success';\n    notificationMessage.textContent = 'Data is correct';\n  }\n\n  notification.append(notificationTitle);\n  notification.append(notificationMessage);\n\n  body.append(notification);\n  setTimeout(() => notification.remove(), 2500);\n\n  return isCorrect;\n}\n"]}